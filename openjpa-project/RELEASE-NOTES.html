<html>
<title>Release Notes for OpenJPA - 0.9.7</title>
<body>
<h1>Release Notes for OpenJPA - 0.9.7</h1>

<ul>
<li><a href="#Overview">Overview</a></li>
<li><a href="#Documentation">Documentation</a></li>
<li><a href="#GetInvolved">Getting Involved</a></li>
<li><a href="#Bugs">Bugs</a></li>
<li><a href="#Improvements">Improvements</a></li>
<li><a href="#New Features">New Features</a></li>
<li><a href="#Task">Task</a></li>
<li><a href="#Test">Test</a></li>
</ul>

<h2><a name="Overview"></a>Overview</h2>

<p> These notes describe the difference between OpenJPA release 0.9.7 and the 
preceding release, 0.9.6. 0.9.7 is a feature release and is backwards compatible
with release 0.9.6. 
<P>
OpenJPA aims to be a feature-rich implementation of the persistence part of 
Java Community Process 
 JSR-220 (Enterprise JavaBeans 3.0), which is known as the Java Persistence API 
(JPA). OpenJPA can be used as a stand-alone POJO persistence layer, or it can be
 integrated into any EJB3.0 compliant container and many lightweight frameworks.
</p>

<p>
Additional information on the OpenJPA project may be found at the project web 
site: <a href="http://incubator.apache.org/openjpa/">
http://incubator.apache.org/openjpa/</a>

<h2><a name="Documentation"></a>Documentation</h2>
<p>If you have questions about OpenJPA, a good source of information is the 
online product manual. You can find the manual for the current release as well
as older releases of OpenJPA at 
<a href="http://incubator.apache.org/openjpa/documentation.html">
http://incubator.apache.org/openjpa/documentation.html</a>
<p>If you can't find what you're looking for in the manual or would like more
clarification you please post to the OpenJPA development mailing list.
Information on all of the OpenJPA mailing lists may be found here:
<a href="http://incubator.apache.org/openjpa/mailing-lists.html">
http://incubator.apache.org/openjpa/mailing-lists.html</a>

<p>
<h2><a name="GetInvolved"></a>Getting Involved</h2>
<p>
The Apache OpenJPA project is being built by the open source community for the 
open source community - we welcome your input and contributions!
<P>
What we are looking for
<ul>
    <li> Source code and fixes contributions </li>
    <li> Documentation assistance </li>
    <li> Product and feature suggestions </li>
    <li> Detailed and constructive feedback </li>
    <li> Articles and whitepapers </li>
</ul>
<p>
How do I Contribute?
<ul>
    <li> To discuss Apache OpenJPA topics check out the mailing lists. </li>
    <li> Informal discussion also occurs on the #openjpa IRC channel on 
         freenode.net. </li>
    <li> Bugs and other issues can be posted on the project JIRA. </li>
</ul>

    
<h2><a name="Bugs"</a>Bugs</h2>
The following bugs have been fixed since release 0.9.6
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-16'>OPENJPA-16</a>] - NPE in createQuery for EJB QL with nested correlated subqueries</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-21'>OPENJPA-21</a>] - Time is missing from list of mutable classes.</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-22'>OPENJPA-22</a>] - locate & substring queries fail both db2 & derby, cannot use parameter markers in expression ?-?</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-23'>OPENJPA-23</a>] - -418 sqlexception using DB2 and EJB QL with SQRT or MOD</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-24'>OPENJPA-24</a>] - Allow OpenJPA to be extensible</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-25'>OPENJPA-25</a>] - Incorrect SQL generated for queries involving more than one AbstractSchemaNames, generated SQL FROM clause is missing 'Table alias'</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-35'>OPENJPA-35</a>] - In-memory Delete operation fails with active DataCache</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-41'>OPENJPA-41</a>] - transforming classes doesn't work</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-48'>OPENJPA-48</a>] -  parsing error - cast of subselect does not work</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-50'>OPENJPA-50</a>] - bad sql pushdown, cast changes datatype</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-53'>OPENJPA-53</a>] -  bad sql pushdown for nested subselects, missing nested subselect</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-54'>OPENJPA-54</a>] - bad sql pushdown, should use all syntax</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-56'>OPENJPA-56</a>] - in derby concat with input parameter needs a cast, otherwise becomes long varchar and some operations do not work</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-60'>OPENJPA-60</a>] - Specifying the wrong persistence implementation in persistence.xml leads to misleading error message</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-62'>OPENJPA-62</a>] - Ejbql join queries show invalid null Entities when run in a new persistence context where no entity instances exist.</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-71'>OPENJPA-71</a>] - Caching primitive array types consumes excessive memory</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-77'>OPENJPA-77</a>] - Problems in default setting in DB2Dictionary , also missing support for DB2 z/OS platforms</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-80'>OPENJPA-80</a>] - Bad Escaping for LIKE in MySQL</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-98'>OPENJPA-98</a>] - Java deadlock when insert in t1 and find in t2 when using IBM JVM 1.5.0</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-100'>OPENJPA-100</a>] - <jar-file> entries failing to be processed for persistence unit rooted in an EAR</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-102'>OPENJPA-102</a>] - JTA transaction rollback, nonexistant instances, transactional persistence context => failures during afterCompletion() and close()</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-103'>OPENJPA-103</a>] - Default Listeners not being processed correctly</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-104'>OPENJPA-104</a>] - OpenJPA does not detach instances on rollback()</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-107'>OPENJPA-107</a>] - @SqlResultSetMappings fails in mapping tool with java.lang.ArrayStoreException</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-108'>OPENJPA-108</a>] - @AttributeOverrides fails in mapping tool with java.lang.ArrayStoreException</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-109'>OPENJPA-109</a>] - every NativeQuery using SqlResultSetMapping fails at runtime with There is no query result mapping for "null" with name "xxx" when the entity is persisted in a different method than the method doing the query.  </li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-110'>OPENJPA-110</a>] - Every NamedNativeQuery using ResultSetMapping fails at runtime with class cast exception when try to iterate over list<Some Entity></li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-111'>OPENJPA-111</a>] - native queries fail when use named parameters</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-115'>OPENJPA-115</a>] - Bottleneck(s) with using OpenJPA in a Container-managed environment</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-116'>OPENJPA-116</a>] - EntityManager.getDelegate should throw an IllegalStateException </li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-118'>OPENJPA-118</a>] - AutoDetach property has no effect</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-119'>OPENJPA-119</a>] - EntityManager.clear() should not implicitly invoke the flush operation</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-121'>OPENJPA-121</a>] - Table name defaults to the class name instead of the entity name</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-122'>OPENJPA-122</a>] - EntityManager does not throw exceptions after close() in required cases</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-132'>OPENJPA-132</a>] - java.lang.NoSuchMethodError for entity with ID of type java.sql.Date</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-133'>OPENJPA-133</a>] - Can't find non-public callback methods with superclass or interface parameters</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-139'>OPENJPA-139</a>] - PersistenceException merging an entity with a Calendar field. </li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-140'>OPENJPA-140</a>] - Wrong package name in test classes</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-142'>OPENJPA-142</a>] - Entity name is ignored when specified in the orm.xml file</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-144'>OPENJPA-144</a>] - JDBCConfigurationImpl does not support JNDI lookup for non-jta-data-source.  </li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-146'>OPENJPA-146</a>] - Entity enhancement fails while using EmbeddedId on a MappedSuperclass</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-150'>OPENJPA-150</a>] - @Column in @AttributeOverride not honoring table attribute that maps to a secondary table in mappedsuperclass entity</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-154'>OPENJPA-154</a>] - OptimisticLockException working with  Savepoints</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-155'>OPENJPA-155</a>] -  java.lang.ArrayIndexOutOfBoundsException during commit</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-157'>OPENJPA-157</a>] - NullPointerException when running query with null parameter</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-162'>OPENJPA-162</a>] - @OrderBy on @OneToMany does not allow ordering by @Id value</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-174'>OPENJPA-174</a>] - error when find()'ing an abstract class</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-175'>OPENJPA-175</a>] - Eager selects by PagingResultObjectProvider may not use the FetchBatchSize</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-179'>OPENJPA-179</a>] - Schemas defined in orm.xml are only applied when a name is also specified. </li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-181'>OPENJPA-181</a>] - ClassCastException when executing bulk delete on an entity that owns a OneToOne with a Cascade.DELETE when DataCache is on</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-182'>OPENJPA-182</a>] - db2 update lock syntax WITH <isolation> USE AND KEEP UPDATE LOCKS</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-185'>OPENJPA-185</a>] - optional attribute is not overriden by xml descriptor</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-186'>OPENJPA-186</a>] - Build failure of OpenJPA sources from trunk</li>
</ul>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-202'>OPENJPA-202</a>] - after invoking LRS processing in a client by calling an @LRS annotated relationship, the next em.clear()/em.close() gets org.apache.openjpa.persistence.InvalidStateException: You cannot transfer large result set fields from one object or field to another</li>
</ul>
    
<h2><a name="Improvements"</a>Improvements</h2>
Improvements made since release 0.9.6
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-10'>OPENJPA-10</a>] - persistence unit name should be default diagnostic context for standard OpenJPA log impl</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-37'>OPENJPA-37</a>] - Support ant typedefs for OpenJPA tasks</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-55'>OPENJPA-55</a>] - Allow executeUpdate() invocations on native queries</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-57'>OPENJPA-57</a>] - persistence_1_0.xsd is missing</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-63'>OPENJPA-63</a>] - Better pessimistic lock support for DB2 v8.2+</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-151'>OPENJPA-151</a>] - Added field in enhanced vesrion of a class is not serialized. Hence the change in detached+serialized instances is not registered under certain conditions.  </li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-153'>OPENJPA-153</a>] - WebSphere and non-jta-data-source and default ManagedRuntime</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-158'>OPENJPA-158</a>] - OpenJPA logs overly-verbose at INFO level</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-161'>OPENJPA-161</a>] - Overuse of synchronization in AbstractBrokerFactory</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-166'>OPENJPA-166</a>] - Track the reason why a setRollbackOnly invocation was made</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-176'>OPENJPA-176</a>] - Exception prefixes should be human-readable</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-196'>OPENJPA-196</a>] - Ease the restrictions on forcing a matche between the number of declared and assigned positional parameters</li>
</ul>
    
<h2><a name="New Features"</a>New Features</h2>
Features added since release 0.9.6
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-92'>OPENJPA-92</a>] - Support for H2 Database Engine</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-93'>OPENJPA-93</a>] - Sequence generation in a JTA environment should not require non-JTA datasource</li>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-94'>OPENJPA-94</a>] - Allow MappingTool and persistence.xml to support drop-create for database schema</li>
</ul>

<h2><a name="Task"</a>Task</h2>
Tasks done since release 0.9.6
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-36'>OPENJPA-36</a>] - Add cwiki url to incubator status page</li>
</ul>
    
<h2><a name="Test"</a>Test</h2>
Additional testing done since release 0.9.6
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/OPENJPA-40'>OPENJPA-40</a>] - Testing OpenJPA and Spring integration fails</li>
</ul>
